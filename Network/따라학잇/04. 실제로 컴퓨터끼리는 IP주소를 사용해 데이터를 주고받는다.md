https://www.youtube.com/watch?v=s5kIGnaNFvM&list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi&index=3



## 3계층의 기능

### 1. 3계층에서 하는 일

* 3계층은 다른 네트워크 대역. 즉, 멀리 떨어진 곳에 존재하는 **네트워크까지 어떻게 데이터를 전달할지 제어하는 일을 담당**함.
* **발신에서 착신까지의 패킷의 경로**를 제어함.
* LAN과 LAN을 연결해준다. 



### 2. 3계층에서 쓰는 주소

* WAN의 범위에서 통신할 때는 LAN 뿐 아니라, IP 주소도 필요하다. 
* IPv4 : 현재 PC에 할당된 IP 주소
* 서브넷 마스크 : IP 주소에 대한 네트워크의 대역을 규정하는 것
* 게이트웨이 주소 : 외부와 통신할 때 사용하는 네트워크의 출입구



### 3. 3계층 프로토콜

* IP주소를 이용해 MAC주소를 알아오는 **ARP 프로토콜**

* WAN에서 통신할 때 사용하는 **IPv4 프로토콜**
* 서로가 통신되는지 확인할 때 사용하는 **ICMP 프로토콜**



## 일반적인 IP 주소

#### 1. Classful IP 주소

* 5가지의 클래스를 나누어 네트워크를 구분하였다.

|        클래스         |     네트워크 구분      | 시작 주소 |   마지막 주소   |
| :-------------------: | :--------------------: | :-------: | :-------------: |
|       A 클래스        | 0 XXXXXXX, 첫번째 필드 |  0.0.0.0  | 127.255.255.255 |
|       B 클래스        | 10 XXXXXX, 두번째 필드 | 128.0.0.0 | 191.255.255.255 |
|       C 클래스        | 110 XXXXX, 세번째 필드 | 192.0.0.0 | 223.255.255.255 |
| D 클래스 (멀티캐스트) |       1110 XXXX        | 224.0.0.0 | 239.255.255.255 |
|    E 클래스 (예약)    |       1111 XXXX        | 240.0.0.0 | 255.255.255.255 |

* 네트워크 구분에 미리 지정되어 있는 부분으로 클래스 대역을 구분한다. 
* A클래스는 첫번째 필드로 대역을 구분한다. 즉, 128개의 A클래스 대역을 가질 수 있다. 
* 다시 한 개의 대역은 167772개의 PC를 구분할 수 있게 해 준다.

* 네트워크 구분이 큼에 따라 낭비되는 대역이 있을 수 있다는 단점이 있다.



#### 2. Classless IP 주소

* 기존 Classful IP 주소는 **서브넷 마스크**를 도입하였다. 
* 서브넷 마스크는 네트워크 대역의 구분을 직접 표기할 수 있게 하였다.
* 클래스풀한 네트워크 대역을 나눠주는데 사용한 값. 어디까지가 네트워크 대역을 구분하는데 사용하고 어디서부터 호스트(PC)를 구분하는데 사용하는지 지정함.
* 2진수로 시작했을 때, 1로 시작하고 1과 1사이에는 0이 올 수 없으며, 0이 나온다면 그 뒤는 모두 0이어야 한다.
* 0의 개수만큼 2의 승 값이 되어, 그 PC 만큼을 구분할 수 있다.



#### 3. 공인 IP / 사설 IP

* 공인 IP : 실제 인터넷과 통신할 때 사용하는 IP 주소. 
* 사설 IP : 같은 네트워크 대역에서만 사용하는 IP 주소. 외부에서는 직접 접근할 수 없다. 
* 사설 IP들은 통신을 할 때, 모두 공인 IP로 바뀌어서 통신을 하게 된다. 외부에서 오는 정보는 공유기에서 사설 IP를 찾아서 통신하게 된다. 



## 특수한 IP 주소

#### 1. 0.0.0.0/0

* 첫 번째 IP. Wildcard라고도 부른다.
* 나머지 모든 IP를 뜻한다. 



#### 2. 127.0.0.1

* 나 자신을 나타내는 주소이다.



#### 3. 게이트웨이 주소

* 보통 가장 낮은 주소나 가장 높은 주소이다.
* 외부와 통신하는 기본 통과문이다. 