https://yjcode.tistory.com/4



## 커널의 의미와 기본 수행동작



* 커널은 컴퓨터를 구동하는 핵심 운영체제를 의미하고 운영체제는 2가지의 관점으로 쓰인다.
  * 컴퓨터의 자원을 고나리하는 핵심 소프트웨어와 인터프리터, GUI, 파일 유틸리티 시스템, 편집기 같은 기본적 소프트웨어 도구를 아우르는 통합 패키지
  * CPU, RAM, 디바이스와 같은 하드웨어 자원을 관리하고 할당하는 핵심 소프트웨어
* 보통 핵심 소프트웨어를 커널로 보는 관점이 많은데, 그 이유는 커널의 가장 큰 존재의의가 보다 효율적인 컴퓨터 자원의 관리를 통한 보다 편한 소프트웨어 구성, 보다 편한 소프트웨어 사용, 그리고 한정된 자원에서 보다 확실하고 정확한 컴퓨터 하드웨어 자원을 관리할 수 있는 관리자의 역할이기 때문이다.

* 커널은 기본적으로 몇가지의 작업을 수행하는 것이 보편적이다.
  * **메모리 관리** 
    * 여러 프로세스를 동시에 구동하여야 하는 경우 커널은 이 프로세스들을 구동하기 위해 메모리를 할당하고 관리해야 한다.
    * 메모리의 하드웨어적 자원은 제한되어 있고 이 메모리를 여러 프로세스에 할당하기에 부족한 경우 커널이 개입하여 메모리를 할당하여 준다. 
  * **프로세스 스케줄링** 
    * 리눅스는 선점형 멀티태스킹을 기반으로 하고 있다. 때문에 프로세스들이 멀티태스킹을 할 때, 커널이 프로세스에 대한 스케줄을 제어하지 않으면 프로세스에 대해 효율적 CPU 할당이 불가능하다. 그렇기에 커널은 메모리에 올라와 왔는 프로세스에 대한 CPU 사용 우선순위와 같은 스케줄을 관리한다.
      * 선점형 멀티태스킹 : 운영체제가 프로세서에 할당한 CPU를 타이머나 트리거를 통해 강제로 빼앗아 올 수 있는 경우. 어떤 프로그램이 버그를 가지고 있다면, 멀티태스킹이 제대로 이루어지지 않고 리셋을 해야만 하기 때문이다. 그래서 Windows, 리눅스, OS X 등 모두 선점형 멀티태스킹이다.
  * **디바이스 드라이버 제공** 
    * 컴퓨터는 많은 외부장치가 있다. 이들은 고유의 사용방법이 있으며, 이러한 방법을 명시해 놓은 표준화된 인터페이스가 디바이스 드라이버이다. (사용자가 아닌 컴퓨터를 위한)  이러한 디바이스 드라이버를 제공하는 것이 커널이고, 커널이 인식하지 못하는 디바이스는 유저가 직접 드라이버를 설치함으로 커널이 인지하고 제어할 수 있도록 해야 한다.
  * **프로세스 생성, 종료** 
    * 운영체제가 있는 환경에서 메모리 관리나 프로세스 스케줄링을 커널이 직접 관장하고 있기 때문에, 새로운 프로세서가 실행될 때 해당 프로세서의 입장에서는 어느 부분에 올라가야 다를 프로세서를 침법하지 않는지 알 수 없다. 또한 프로세서가 종료될 때 다른 프로세서에게 자신이 종료되었음을 알려줄 수도 없다. 때문에 프로세스의 생성과 종료에 커널이 관장해야 한다. 
  * **파일 유틸리티 시스템 제공**
    * 파일 탐색기에 해당한다. 파일 시스템이 커널레벨이 아닌 유저레벨에서 관리된다면, 파일 시스템을 삭제하는 순간 파일 시스템에서 관리하던 파일에 대한 정보 소실로 파일 손상을 불러오거나, 여러 오류가 발생할 수 있다.때문에, 파일 유틸리티 시스템은 커널에서 직접 관리해야 한다.
  * **네트워크**
    * 네트워크를 프로그래머가 모두 구현해야 한다면 엄청난 시간과 자원을 투자해야 할 것이다. 이는 비효율적이므로 대부분의 기능은 커널이 관장하고 프로그래머는 정해진 규칙대로 사용법만 명시하고. 커널은 이미 정해진 틀을 기반으로 대신 처리하는 방식으로 통신을 하게 되며, 정형화된 통신이 가능해지므로 더욱 정확하고 간단한 프로그래밍이 가능하게 된다.
  * **시스템 호출 API 제공**
    * 프로세스 입장에서는 필요하지만, 보안 등의 이유로 프로세스 자체적으로는 실행할 수 없는 기능들이 있다. 이러한 것들은 커널에서만 접근을 할 수 있는데, 프로세스가 해당 정보를 필요로 핼 때 커널에게 이러한 정보가 필요하니 알려달라고 요청을 한다. 이 경우 커널은 해당 정보를 받은 후 권한과 같은 적정석을 검토 후 실행한다. 커널이 제공할 수 있는 수행기능에 대한 인터페이스가 있어야 하는데 그것이 API이다. 시스템 호출 API로 인하여 유저레벨 프로세스가 더욱 자세하고 효율적인 기능을 수행할 수 있다. 